<!DOCTYPE html>
<html>
<head>
<title>Average Tracker</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- <meta name="Keywords" content=""> -->
<!-- <meta name="Description" content=""> -->
<!-- <link rel="icon" href="/favicon.ico" type="image/x-icon"> -->
<link rel="stylesheet" href="styles.css">
</head>

<body onresize="resize_canvas()">
  <section id="hud">
    
  </section>
  <svg id="playground" width="100%" height="100%" viewBox="0 0 1440 720" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <defs>
      <filter id="key_filter">
        <feBlend in="SourceGraphic" in2="BackgroundImage" mode="screen"/>
      </filter>
      <filter id="lock_filter">
        <feBlend in="SourceGraphic" in2="BackgroundImage" mode="multiply"/>
      </filter>
    </defs>
    Your browser won't support this app. Please try another browser.
    <rect id="lock_template" class="lock-field" x="-60" y="-60" rx="12.5" ry="12.5" width="120" height="120" stroke="black" stroke-width="4" fill="white" transform="translate(144 144)"></rect>
    <circle id="goal_template" class="goal-field" x="0" y="0" cx="0" cy="0" r="60" stroke="black" stroke-width="4" fill="white" transform="translate(144 288)"></circle>
    <path id="key_template" class="key-field" d="M -7.5 -52.5 c 7.5 -7.5, 7.5 -7.5, 15 0 l 45 45 c 7.5 7.5, 7.5 7.5, 0 15 l -45 45 c -7.5 7.5, -7.5 7.5, -15 0 l -45 -45 c -7.5 -7.5, -7.5 -7.5, 0 -15 Z" stroke="black" stroke-width="4" fill="white" transform="translate(144 432)"></path>
    <path id="unreq_template" class="unreq-field" d="M -3.75 -53.5 c 3.75 -6.5, 3.75 -6.5, 7.5 0 l 52.5 91 c 3.75 6.5, 3.75 6.5, -3.75 6.5 l -105 0 c -7.5 0, -7.5 0, -3.75 -6.5 Z" stroke="black" stroke-width="4" fill="white" transform="translate(144 576)"></path>
    <path id="arrow_up_template" class="arrow-up-field" d="M -5 15 l 0 -15 l -10 0 l 15 -15 l 15 15 l -10 0 l 0 15" stroke="black" stroke-width="3" fill="white" transform="translate(288 144)"></path>
    <path id="arrow_down_template" class="arrow-down-field" d="M -5 -15 l 0 15 l -10 0 l 15 15 l 15 -15 l -10 0 l 0 -15" stroke="black" stroke-width="3" fill="white" transform="translate(288 288)"></path>
    <path id="arrow_right_template" class="arrow-right-field" d="M -15 -5 l 15 0 l 0 -10 l 15 15 l -15 15 l 0 -10 l -15 0" stroke="black" stroke-width="3" fill="white" transform="translate(288 432)"></path>
    <path id="arrow_left_template" class="arrow-left-field" d="M 15 -5 l -15 0 l 0 -10 l -15 15 l 15 15 l 0 -10 l 15 0" stroke="black" stroke-width="3" fill="white" transform="translate(288 576)"></path>
    <circle id="junction_template" class="junction" x="0" y="0" cx="0" cy="0" r="15" stroke="black" stroke-width="3" fill="white" transform="translate(432 144)"></circle>
    <path id="grid_line_h_left_template" class="path-left" d="M -72 -5 h 72 m 0 10 h -72" stroke="black" stroke-width="3" stroke-linecap="butt" fill="white" transform="translate(576 144)"></path>
    <path id="grid_line_h_right_template" class="path-right" d="M 0 -5 h 72 m 0 10 h -72" stroke="black" stroke-width="3" stroke-linecap="butt" fill="white" transform="translate(576 144)"></path>
    <path id="grid_line_v_up_template" class="path-up" d="M -5 -72 v 72 m 10 0 v -72" stroke="black" stroke-width="3" stroke-linecap="butt" fill="white" transform="translate(576 144)"></path>
    <path id="grid_line_v_down_template" class="path-down" d="M -5 0 v 72 m 10 0 v -72" stroke="black" stroke-width="3" stroke-linecap="butt" fill="white" transform="translate(576 144)"></path>
    <path class="path-up" d="M -5 -72 v 72 m 10 0 v -72" stroke="black" stroke-width="3" stroke-linecap="butt" fill="white" transform="translate(576 288)"></path>
    <path class="path-left" d="M -72 -5 h 72 m 0 10 h -72" stroke="black" stroke-width="3" stroke-linecap="butt" fill="white" transform="translate(576 288)"></path>
    <path class="path-right" d="M 0 -5 h 72 m 0 10 h -72" stroke="black" stroke-width="3" stroke-linecap="butt" fill="white" transform="translate(576 288)"></path>
    <path class="path-down" d="M -5 0 v 72 m 10 0 v -72" stroke="black" stroke-width="3" stroke-linecap="butt" fill="white" transform="translate(576 288)"></path>
  </svg>
  <canvas id="background" width="500" height="500">Your browser won't support this app. Please try another browser.</canvas>
  <section id="hiddenSpriteSheet">
    <img src="images/util/m1_grid.png" id="grid" width="24" height="24">
  </section>
  
  
  
  
  
  <script src="js/iconType.js" type="module"></script>
  <script src="js/objColors.js" type="module"></script>
  <script src="js/nodeType.js" type="module"></script>
  <script src="js/pickupType.js" type="module"></script>
  <script src="js/rawData.js" type="module"></script>
  <script src="js/main.js" type="module"></script>
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>  
  <![endif]-->
  
  <script type="text/javascript">
    function resize_canvas() {
      let canvas = document.getElementById("background");
      if (canvas.width !== window.innerWidth){
        canvas.width = window.innerWidth;
      }

      if (canvas.height !== window.innerHeight){
        canvas.height = window.innerHeight;
      }

      let context = canvas.getContext("2d");
      let gridImage = document.getElementById("grid");
      let pattern = context.createPattern(gridImage, "repeat");
      context.rect(0, 0, window.innerWidth, window.innerHeight);
      context.fillStyle = pattern;
      context.fill();
    };
  </script>
  
  <script type="module">
    import main from "./js/main.js";
    
    document.addEventListener("DOMContentLoaded", () => {
      main.init();
      
      document.getElementById("background").onwheel = (event) => {
        event.preventDefault();
      };

      document.getElementById("background").onmousewheel = (event) => {
        event.preventDefault();
      };
      
      //document.getElementById("playground").width = window.innerWidth;
      //document.getElementById("playground").height = window.innerHeight;

      resize_canvas();
    });
  </script>
</body>

</html> 